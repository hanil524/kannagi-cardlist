<!DOCTYPE html>
<html lang="ja">
  <!-- メタデータ -->
  <head>
    <!-- Google tag (専用タグなのでGitHubから見てる人もコピー禁止) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WHEBPJYBEV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-WHEBPJYBEV');
    </script>

    <meta charset="UTF-8" />
    <!-- 必要なアイコンだけを選択的に読み込む -->
    <!-- Font Awesome - 必要なコンポーネントのみ読み込み -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/fontawesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/solid.min.css" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover, user-scalable=no" />
    <title>巫カードフィルター | 巫KANNAGIカードゲーム</title>
    <meta name="description" content="巫KANNAGIカードゲームのフィルター付きギャラリー。全てのカードを閲覧・検索・フィルタリング可能。気になるカードだけに絞ってデッキ作成のお供に。" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="icon" type="image/x-icon" href="favicon/favicon.ico" />
    <meta name="msapplication-TileImage" content="favicon/favicon.ico" />
    <script src="scripts.js"></script>
  </head>

  <body>
    <!-- ローディングスピナー -->
    <div id="loading-overlay" class="loading-overlay">
      <div id="loading-overlay" class="loading-overlay">
        <div class="fingerprint-spinner">
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
          <div class="spinner-ring"></div>
        </div>
      </div>
    </div>

    <div id="content">
      <!-- PC版のヘッダー -->
      <header id="main-header">
        <div class="header-content">
          <!-- メインメニュー -->
          <div class="menu-item">
            <a href="https://www.kannagi-cardgame.jp/home" target="_blank" rel="noreferrer" class="pc-only menu-trigger">巫 公式サイト</a>
            <!-- サブメニュー -->
            <div class="submenu">
              <a href="https://www.kannagi-cardgame.jp/s-projects-side-by-side" target="_blank" rel="noreferrer">遊び方・ルール</a>
              <a href="https://www.kannagi-cardgame.jp/general-5" target="_blank" rel="noreferrer">よくある質問（Q&A）</a>
              <a href="https://www.kannagi-cardgame.jp/%E3%82%AB%E3%83%BC%E3%83%89" target="_blank" rel="noreferrer">商品情報・カード一覧（高画質）</a>
              <a href="https://docs.google.com/forms/d/e/1FAIpQLSfI1PAr_6sq81Ag9A-rFYgJYmKU4JVhiPbDQ7ytYe0BjCg09Q/viewform" target="_blank" rel="noreferrer">新カード募集フォーム</a>
              <a href="https://www.kannagi-cardgame.jp/%E4%BD%9C%E5%AE%B6%E7%B4%B9%E4%BB%8B" target="_blank" rel="noreferrer">カード作家紹介</a>
              <a href="https://x.com/kannagicb" target="_blank" rel="noreferrer">公式X（@kannagicb）</a>
              <a href="https://www.youtube.com/@%E5%B7%ABKANNAGI%E3%82%AB%E3%83%BC%E3%83%89%E3%83%81%E3%83%A3%E3%83%B3%E3%83%8D%E3%83%AB" target="_blank" rel="noreferrer">公式YouTubeチャンネル</a>
            </div>
          </div>

          <!-- メインメニュー -->
          <div class="menu-item">
            <a href="https://kannagi.base.ec/" target="_blank" rel="noreferrer" class="pc-only menu-trigger">公式ストア</a>
            <!-- サブメニュー -->
            <div class="submenu">
              <a href="https://www.happyshoten.com/categories/6255701/11" target="_blank" rel="noreferrer">シングルカード販売</a>
              <a href="https://www.kannagi-cardgame.jp/%E4%B8%AD%E5%8F%A4%E3%83%87%E3%83%83%E3%82%AD" target="_blank" rel="noreferrer">中古デッキ販売</a>
              <a href="https://cardon.jp/pages/%E5%B7%ABkannagi%E3%82%AB%E3%83%BC%E3%83%89%E3%82%B2%E3%83%BC%E3%83%A0-top" target="_blank" rel="noreferrer">カードン 通販</a>
              <a href="https://eglanz.cart.fc2.com/" target="_blank" rel="noreferrer">AGITO池袋 通販</a>
            </div>
          </div>

          <!-- メインメニュー -->
          <div class="menu-item">
            <a href="https://tonamel.com/organization/how1A?game=__OTHERS__" target="_blank" rel="noreferrer" class="pc-only menu-trigger">公式イベント </a>
            <!-- サブメニュー -->
            <div class="submenu">
              <a href="https://tonamel.com/organization/how1A?game=__OTHERS__" target="_blank" rel="noreferrer">主催：巫KANNAGI公式</a>
              <a href="https://tonamel.com/organization/kc3YH?game=__OTHERS__" target="_blank" rel="noreferrer">主催：TCG Rookie（トレカルーキー）</a>
              <a href="https://tonamel.com/organization/k6ftl?game=__OTHERS__" target="_blank" rel="noreferrer">主催：Geek（ギーク）</a>
              <a href="https://tonamel.com/organization/ko39o?game=__OTHERS__" target="_blank" rel="noreferrer">主催：AGITO池袋（アジト）</a>
              <a href="https://tonamel.com/organization/jPEFi?game=__OTHERS__" target="_blank" rel="noreferrer">主催：kazuyuki</a>
            </div>
          </div>

          <div class="menu-item">
            <a href="https://wikiwiki.jp/kannagi_tcg" target="_blank" rel="noreferrer" class="pc-only menu-trigger">関連サイト</a>
            <!-- サブメニュー -->
            <div class="submenu">
              <a href="https://wikiwiki.jp/kannagi_tcg" target="_blank" rel="noreferrer">★巫カードゲーム Wiki（効果やルールの詳細はこちら）</a>
              <a href="https://www.youtube.com/@liliaflows" target="_blank" rel="noreferrer">巫KANNAGI遊戯処 猫の額亭（YouTube）</a>
              <a href="https://torecamap.co.jp/column/kannagi/" target="_blank" rel="noreferrer">トレカの地図（Webサイト）</a>
              <a href="https://agito.zelc-promotion.com/agitopress/kannagitcg/" target="_blank" rel="noreferrer">AGITO池袋（Webサイト）</a>
            </div>
          </div>

          <!-- メインメニュー -->
          <div class="menu-item">
            <a href="https://x.com/hanil524" target="_blank" rel="noreferrer" class="pc-only menu-trigger">お知らせ</a>
            <!-- サブメニュー -->
            <div class="submenu">
              <a href="https://forms.gle/nF9ty8UDgnSumtut7" target="_blank" rel="noreferrer">報告フォーム（アプデ履歴）</a>
              <a href="https://hanil524.github.io/0cost-checker/" target="_blank" rel="noreferrer">零探しチェッカー（便利ツール）</a>
              <a href="https://x.com/hanil524" target="_blank" rel="noreferrer">ツール運営者 はん（@hanil524）</a>
              <a href="https://www.amazon.co.jp/hz/wishlist/ls/2RJU39XEURFH?ref_=list_d_wl_lfu_nav_1" target="_blank" rel="noreferrer">欲しいものリスト（Amazon）</a>
            </div>
          </div>

          <div class="search-container">
            <input type="text" id="search-box" placeholder="カード名・属性で検索&nbsp;" />
            <button id="clear-button-desktop" class="clear-button" onclick="clearSearch('search-box', 'clear-button-desktop')">&times;</button>
          </div>
        </div>
      </header>

      <!-- スマホ版のヘッダー -->
      <div class="mobile-header">
        <!-- ハンバーガーメニュー -->
        <div class="hamburger-menu">
          <span></span>
          <span></span>
          <span></span>
          <div class="menu-text">MENU</div>
        </div>
        <div class="search-container">
          <input type="text" id="mobile-search-box" placeholder="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カード名・属性で検索" />
          <button id="clear-button-mobile" class="clear-button" onclick="clearSearch('mobile-search-box', 'clear-button-mobile')">&times;</button>
        </div>
        <div class="deck-icon-container" onclick="openDeckBuilder()">
          <i class="fas fa-layer-group"></i>
          <div class="menu-text">デッキ</div>
          <span class="deck-count-badge"></span>
        </div>
      </div>
      <div class="menu-overlay"></div>
      <!-- モバイルナビ -->
      <nav class="mobile-nav">
        <ul>
          <li><a href="https://forms.gle/nF9ty8UDgnSumtut7" target="_blank" rel="noreferrer">不具合報告フォーム（アプデ履歴）</a></li>
          <li><a href="https://wikiwiki.jp/kannagi_tcg" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;巫カードゲーム Wiki（効果・ルールの詳細）</a></li>
          <li><a href="https://www.kannagi-cardgame.jp/home" target="_blank" rel="noreferrer">巫 公式サイト</a></li>
          <li><a href="https://www.kannagi-cardgame.jp/s-projects-side-by-side" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;遊び方・ルール</a></li>
          <li><a href="https://www.kannagi-cardgame.jp/general-5" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;よくある質問</a></li>
          <li><a href="https://www.kannagi-cardgame.jp/%E3%82%AB%E3%83%BC%E3%83%89" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;商品情報・カード一覧（高画質）</a></li>
          <li><a href="https://x.com/kannagicb" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;公式X（@kannagicb）</a></li>
          <li>
            <a href="https://www.youtube.com/@%E5%B7%ABKANNAGI%E3%82%AB%E3%83%BC%E3%83%89%E3%83%81%E3%83%A3%E3%83%B3%E3%83%8D%E3%83%AB" target="_blank" rel="noreferrer"
              >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;公式YouTubeチャンネル</a
            >
          </li>
          <li><a href="https://docs.google.com/forms/d/e/1FAIpQLSfI1PAr_6sq81Ag9A-rFYgJYmKU4JVhiPbDQ7ytYe0BjCg09Q/viewform" target="_blank" rel="noreferrer">新カード募集フォーム</a></li>
          <li><a href="https://tonamel.com/organization/how1A?game=__OTHERS__" target="_blank" rel="noreferrer"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;大会・イベント一覧 </a></li>
          <li>
            <a href="https://www.youtube.com/@liliaflows" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;巫KANNAGI遊戯処 猫の額亭（YouTube）</a>
          </li>
          <li>
            <a href="https://kannagi.base.ec/" target="_blank" rel="noreferrer"> <i class="fas fa-shopping-cart" style="margin-right: 5px"></i>&nbsp;巫 公式ストア </a>
          </li>
          <li><a href="https://www.happyshoten.com/categories/6255701/11" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;シングルカード販売</a></li>
          <li><a href="https://www.kannagi-cardgame.jp/%E4%B8%AD%E5%8F%A4%E3%83%87%E3%83%83%E3%82%AD" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;中古デッキ販売</a></li>
          <li><a href="https://cardon.jp/pages/%E5%B7%ABkannagi%E3%82%AB%E3%83%BC%E3%83%89%E3%82%B2%E3%83%BC%E3%83%A0-top" target="_blank" rel="noreferrer"
              >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カードン 通販</a>
          </li>
          <li>
            <a href="https://eglanz.cart.fc2.com/" target="_blank" rel="noreferrer"
              >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AGITO池袋 通販</a
            >
          </li>
          <li><a href="https://x.com/hanil524" target="_blank" rel="noreferrer">ツール運営者 はん（@hanil524）</a></li>
          <li><a href="https://hanil524.github.io/0cost-checker/" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;零探しチェッカー（便利ツール）</a></li>
          <li><a href="https://www.amazon.co.jp/hz/wishlist/ls/2RJU39XEURFH?ref_=list_d_wl_lfu_nav_1" target="_blank" rel="noreferrer">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;欲しいものリスト（Amazon）</a></li>          
          <li><a href="#" class="close-menu">メニューを閉じる</a></li>
        </ul>
      </nav>

      <main>
        <!-- 日時更新（kousinn） -->
        <div class="update-info">
          <i class="fas fa-sync-alt"></i>
          <a href="https://forms.gle/nF9ty8UDgnSumtut7" target="_blank" rel="noreferrer" id="update-date">2025-05-12</a>
        </div>

        <!-- フィルターボタン -->
        <section id="filter-section">
          <div id="filter-container">
            <div class="filter-group">
              <label>並び</label>
              <div class="sort-buttons">
                <button data-filter="number" onclick="sortCards('number')">No.</button>
                <button data-filter="type" onclick="sortCards('type')">種類</button>
                <button data-filter="cost" onclick="sortCards('cost')">コスト</button>
                <button data-filter="season" onclick="sortCardsBySeason()">季節</button>
                <button data-filter="power" onclick="sortCards('power')">力</button>
              </div>
            </div>
            <div class="filter-group">
              <label>条件</label>
              <div class="filter-buttons">
                <button data-filter="series" onclick="openModal('series')">シリーズ</button>
                <button data-filter="type" onclick="openModal('type')">札</button>
                <button data-filter="season" onclick="openModal('season')">季節</button>
                <button data-filter="rare" onclick="openModal('rare')">レア</button>
              </div>
            </div>
            <div class="filter-group">
              <label>要素</label>
              <div class="filter-buttons">
                <button data-filter="attribute" onclick="openModal('attribute')">属性</button>
                <button data-filter="keyword" onclick="openModal('keyword')">キーワード</button>
                <button data-filter="role" onclick="openModal('role')">役割</button>
              </div>
            </div>
            <div class="filter-group">
              <button onclick="resetFilters()">フィルター解除</button>
              <label class="limit-release" title="使用制限1～3枚の札を4枚まで解禁">
                <input type="checkbox" id="limit-release-toggle" />
                制限開放
              </label>
            </div>
          </div>
          <!-- 該当表示 -->
          <div id="active-filters-pc" class="active-filters-pc" style="display: none"></div>
          <div id="active-filters-mobile" class="active-filters-mobile" style="display: none"></div>
        </section>

        <!-- フィルター詳細表示エリアを追加 -->
        <div id="filter-details" class="keyword-role-details" style="display: none;">
          <div id="series-details" class="details-section"></div>
          <div id="rare-details" class="details-section"></div>
          <div id="keyword-details" class="details-section"></div>
          <div id="role-details" class="details-section"></div>
        </div>

        <!-- 検索結果枚数表示 -->
        <div id="search-result-count" class="search-result-count">検索結果 0枚</div>        

        <!-- カードリスト -->
        <section id="card-list">
          <div id="no-cards-message" style="display: none">
            <p><strong>該当カードがありません！</strong></p>
            <p><strong>「フィルター解除」を押してください。</strong></p>
          </div>

          <!-- カードリストはjsに移転 -->
          <script src="cards.js"></script>
            <script>document.getElementById('card-list')
                .insertAdjacentHTML('beforeend', window.__CARDS_HTML);</script>
        </section>
      </main>

      <div id="modal" class="modal" onclick="closeModalOnClick(event)">
        <div class="modal-content">
          <span class="close" onclick="closeModal()">&times;</span>
          <div id="modal-buttons" class="modal-buttons"></div>
        </div>
      </div>

      <!-- シリーズ -->
      <div id="series" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('series', '夏VS冬バトルセット')" class="batoruiro" data-tooltip="夏冬 スタートデッキ（2023年9月22日発売）">夏VS冬バトルセット</button>
        <button onclick="toggleFilterCard('series', '新季の到来')" class="sinkiiro" data-tooltip="ブースターパック 第一弾（2024年2月29日発売）">新季の到来</button>
        <button onclick="toggleFilterCard('series', '百鬼夜行')" class="hyakkiiro" data-tooltip="ブースターパック 第二弾（2024年7月21日発売）">百鬼夜行</button>
        <button onclick="toggleFilterCard('series', 'うつくしいせかい')" class="utukusiiro" data-tooltip="夏 コンセプトデッキ（2024年8月17日発売）">うつくしいせかい</button>
        <button onclick="toggleFilterCard('series', 'おいしゃさんごっこ')" class="oisyairo" data-tooltip="冬 コンセプトデッキ（2024年8月17日発売）">おいしゃさんごっこ</button>
        <button onclick="toggleFilterCard('series', 'さいごのうた')" class="saigoiro" data-tooltip="春 コンセプトデッキ（2024年10月27日発売）">さいごのうた</button>
        <button onclick="toggleFilterCard('series', 'あなたのよこで')" class="anatairo" data-tooltip="秋 コンセプトデッキ（2024年10月27日発売）">あなたのよこで</button>
        <button onclick="toggleFilterCard('series', 'れもんちゃんデッキ')" class="lemoniro" data-tooltip="全季節 スタートデッキ（2024年11月22日発売）">れもんちゃんデッキ</button>
        <button onclick="toggleFilterCard('series', '怪談師')" class="kaidaniro" data-tooltip="ユーザーズパック 第一弾（2024年12月22日発売）">怪談師</button>
        <button onclick="toggleFilterCard('series', '学校の怪談')" class="gakkouiro" data-tooltip="「学校の怪談」ブースターパック（2025年3月28日発売）">学校の怪談</button>
        <button onclick="toggleFilterCard('series', 'SSS47')" class="sssiro" data-tooltip="『Scary Spot Sister's』 「学校の怪談」パックに同梱（2025年3月28日発売）">SSS47</button>
        <button onclick="toggleFilterCard('series', '怪談師二章')" class="kaidaniro" data-tooltip="ユーザーズパック 第二弾（2025年6月6日発売）">怪談師二章</button>
        <button onclick="toggleFilterCard('series', '都市伝説')" class="toshiiro" data-tooltip="ブースターパック 第三弾（2025年7月5日発売）">都市伝説</button>
        <button onclick="toggleFilterCard('series', '妖怪デッキ：墓暴き')" class="youkaiiro" data-tooltip="（2025年9月25日発売）">妖怪デッキ：墓暴き</button>
        <button onclick="toggleFilterCard('series', 'プロモ')" class="puromoiro" data-tooltip="店舗コラボ、イベント配布など">プロモ</button>
      </div>
      <!-- キーワード -->
      <div id="keyword" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('keyword', '召喚時')" data-tooltip="召喚時に効果が発動する">召喚時</button>
        <button onclick="toggleFilterCard('keyword', '速攻')" data-tooltip="この札は「起き」状態で召喚する">速攻</button>
        <button onclick="toggleFilterCard('keyword', '襲撃')" data-tooltip="相手の場所札にのみ攻撃できる。この攻撃で力が0になった札は除外される">襲撃</button>
        <button onclick="toggleFilterCard('keyword', '逆境')" data-tooltip="ターン1回の制限なく、除外枚数が指定以上の時、「起き」状態で、手札・魂から召喚できる。攻撃後には魂ではなく除外される">逆境</button>
        <button onclick="toggleFilterCard('keyword', '憤怒')" data-tooltip="自分のライフが指定以下の時、効果を発動する">憤怒</button>
        <button onclick="toggleFilterCard('keyword', '追撃')" data-tooltip="相手のライフが指定以下の時、効果を発動する">追撃</button>
        <button onclick="toggleFilterCard('keyword', '神秘')" data-tooltip="この札が場にある時、相手札の効果を受けず、選択もされない">神秘</button>
        <button onclick="toggleFilterCard('keyword', '秘境')" data-tooltip="この札が場にある時、相手の札効果から選択されない">秘境</button>
        <button onclick="toggleFilterCard('keyword', '不屈')" data-tooltip="この札が除外された時、効果を発動する">不屈</button>
        <button onclick="toggleFilterCard('keyword', '楽園')" data-tooltip="自分のライフが指定以上の時、効果を発動する">楽園</button>
        <button onclick="toggleFilterCard('keyword', '呪い')" data-tooltip="自分のライフを半分にすることで使用できる。端数は切り下げる">呪い</button>
        <button onclick="toggleFilterCard('keyword', '鮮明')" data-tooltip="この札のコスト以上の場所札に表向きで憑依する。「この札の季節」も必須">鮮明</button>
        <button onclick="toggleFilterCard('keyword', '四季欲')" data-tooltip="召喚時、自分の場の季節札を魂に送り、効果を発動する">四季欲</button>
        <button onclick="toggleFilterCard('keyword', '妬み')" data-tooltip="相手のライフが指定以上の時、効果を発動する">妬み</button>
        <button onclick="toggleFilterCard('keyword', '結界')" data-tooltip="自分がダメージを受ける時、この札を除外してダメージを軽減する">結界</button>
        <button onclick="toggleFilterCard('keyword', '徳')" data-tooltip="デッキの1番上を裏向きで除外し、それが10枚になるとゲームに勝利する">徳</button>
        <button onclick="toggleFilterCard('keyword', '霊視')" data-tooltip="札種類を1つ宣言し、山札の上を1枚除外。宣言通りなら効果を発動する">霊視</button>
        <button onclick="toggleFilterCard('keyword', '学校の怪談')" data-tooltip="手札公開場の「噂」属性の枚数分、力が1上がる">学校の怪談</button>
        <button onclick="toggleFilterCard('keyword', '正体不明')" data-tooltip="デッキの1番上を裏向き、「伏せ」状態で場に召喚する。その札は季節「無」でコスト、力が指定される">正体不明</button>
        <button onclick="toggleFilterCard('keyword', '展開時')" data-tooltip="季節札を場に出した時、効果が発動する">展開時</button>
        <button onclick="toggleFilterCard('keyword', '憎悪')" data-tooltip="「この札以外」の「この札と同じ札」が魂にある状態で、魂数が指定以上の時、効果を発動する">憎悪</button>
        <button onclick="toggleFilterCard('keyword', '合唱')" data-tooltip="合唱の発動時、場の「合唱」札を好きな枚数魂に送る。その札の効果と力を得て、相手に与える">合唱</button>
        <button onclick="toggleFilterCard('keyword', '↻（伏せ）')" data-tooltip="場にある「起き」状態のこの札を「伏せ」にした時、効果が発動する">↻（伏せ）</button>
        <button onclick="toggleFilterCard('keyword', '魚群')" data-tooltip="攻撃して魂になる前に、この札のコスト以下の「人魚」属性札を、フェイズ関係なく魂から「起き」状態で召喚する。攻撃フェイズを1回追加で得る">魚群</button>
        <button onclick="toggleFilterCard('keyword', '突現')" data-tooltip="自分の手札からフェイズとコスト関係なく、この札を召喚してもよい">突現</button>
        <button onclick="toggleFilterCard('keyword', '潜在能力')" data-tooltip="零探しの後、この札が自分の手札にある場合、召喚（展開）してもよい">潜在能力</button>
        <button onclick="toggleFilterCard('keyword', '鬼動')"  data-tooltip="攻撃中、憑依中以外の、自分の「起き」状態の場所札を1枚「伏せ」にすることで発動する">鬼動</button>
      </div>
      <!-- 属性 -->
      <div id="attribute" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('attribute', '蟲')">蟲</button>
        <button onclick="toggleFilterCard('attribute', '動物')">動物</button>
        <button onclick="toggleFilterCard('attribute', '血液')">血液</button>
        <button onclick="toggleFilterCard('attribute', '妖怪')">妖怪</button>
        <button onclick="toggleFilterCard('attribute', '幽霊')">幽霊</button>
        <button onclick="toggleFilterCard('attribute', '怨霊')">怨霊</button>
        <button onclick="toggleFilterCard('attribute', '交通事故')">交通事故</button>
        <button onclick="toggleFilterCard('attribute', '人形')">人形</button>
        <button onclick="toggleFilterCard('attribute', '噂')">噂</button>
        <button onclick="toggleFilterCard('attribute', '霊能者')">霊能者</button>
        <button onclick="toggleFilterCard('attribute', '墓地')">墓地</button>
        <button onclick="toggleFilterCard('attribute', '霊場')">霊場</button>
        <button onclick="toggleFilterCard('attribute', '腐乱')">腐乱</button>
        <button onclick="toggleFilterCard('attribute', '大蛇')">大蛇</button>
        <button onclick="toggleFilterCard('attribute', '道路')">道路</button>
        <button onclick="toggleFilterCard('attribute', '事件')">事件</button>
        <button onclick="toggleFilterCard('attribute', 'SSS')">SSS</button>
        <button onclick="toggleFilterCard('attribute', '都市伝説')">都市伝説</button>        
        <button onclick="toggleFilterCard('attribute', '廃')">「廃」</button>
        <button onclick="toggleFilterCard('attribute', '糧')">糧</button>
        <button onclick="toggleFilterCard('attribute', '龍')">龍</button>        
        <button onclick="toggleFilterCard('attribute', '刀')">刀</button>
        <button onclick="toggleFilterCard('attribute', '鎌')">鎌</button>
        <button onclick="toggleFilterCard('attribute', '銃')">銃</button>
        <button onclick="toggleFilterCard('attribute', '人魚')">人魚</button>
        <button onclick="toggleFilterCard('attribute', '犬族')">犬族</button>
        <button onclick="toggleFilterCard('attribute', '花')">花</button>
        <button onclick="toggleFilterCard('attribute', '鬼')">鬼</button>
        <button onclick="toggleFilterCard('attribute', '不吉')">不吉</button>
        <button onclick="toggleFilterCard('attribute', '神')" data-tooltip="「同名カード」の神は、場に1枚まで">神</button>
      </div>
      <!-- 季節 -->
      <div id="season" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('season', '春')" class="haruiro">春</button>
        <button onclick="toggleFilterCard('season', '夏')" class="natsuiro">夏</button>
        <button onclick="toggleFilterCard('season', '秋')" class="akiiro">秋</button>
        <button onclick="toggleFilterCard('season', '冬')" class="huyuiro">冬</button>
        <button onclick="toggleFilterCard('season', '冬')" class="muiro">無</button>
        <button onclick="toggleFilterCard('season', '混化')" class="konkairo">混化</button>
        <button onclick="toggleFilterCard('season', '春夏')" class="harunatsuiro">春夏</button>
        <button onclick="toggleFilterCard('season', '春冬')" class="haruhuyuiro">春冬</button>
        <button onclick="toggleFilterCard('season', '秋夏')" class="akinatsuiro">秋夏</button>
        <button onclick="toggleFilterCard('season', '秋冬')" class="akihuyuiro">秋冬</button>
        <button onclick="toggleFilterCard('season', '春夏秋冬')" class="syunkasyuutoiro">春夏秋冬</button>
      </div>
      <!-- 札種類 -->
      <div id="type" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('type', '場所札')" class="basyoiro">場所札</button>
        <button onclick="toggleFilterCard('type', '怪異札')" class="kaiiiro">怪異札</button>
        <button onclick="toggleFilterCard('type', '道具札')" class="douguiro">道具札</button>
        <button onclick="toggleFilterCard('type', '季節札')" class="kisetsuiro">季節札</button>
      </div>
      <!-- レア度 -->
      <div id="rare" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('rare', 'C')">C</button>
        <button onclick="toggleFilterCard('rare', 'UC')">UC</button>
        <button onclick="toggleFilterCard('rare', 'R')">R</button>
        <button onclick="toggleFilterCard('rare', 'SR')">SR</button>
        <button onclick="toggleFilterCard('rare', 'SSR')">SSR</button>
        <button onclick="toggleFilterCard('rare', 'KR')" data-tooltip="巫レア">KR</button>
        <button onclick="toggleFilterCard('rare', 'エキスパンション')" data-tooltip="封入率、レアリティ固定">エキスパンション</button>
        <button onclick="toggleFilterCard('rare', '封印改訂')" data-tooltip="デッキ使用枚数に制限がある札">封印改訂</button>
      </div>
      <!-- 役割 -->
      <div id="role" class="filter-content" style="display: none">
        <button onclick="toggleFilterCard('role', '攻撃時')" data-tooltip="攻撃時に効果が発動すること">攻撃時</button>
        <button onclick="toggleFilterCard('role', '除外加速')" data-tooltip="除外をカードの効果で増やすこと">除外加速</button>
        <button onclick="toggleFilterCard('role', '除外戻し')" data-tooltip="除外されているカードを、手札・場・デッキなどに戻すこと">除外戻し</button>     
        <button onclick="toggleFilterCard('role', 'ドロー')" data-tooltip="山札の上からカードを引くこと">ドロー</button>
        <button onclick="toggleFilterCard('role', '公開ドロー')" data-tooltip="山札の上から引いたカードを手札公開場に置くこと">公開ドロー</button>
        <button onclick="toggleFilterCard('role', '底ドロー')" data-tooltip="デッキの一番下からカードを引くこと">底ドロー</button>
        <button onclick="toggleFilterCard('role', 'サーチ')" data-tooltip="山札から対象のカードを狙って引くこと">サーチ</button>
        <button onclick="toggleFilterCard('role', '回収')" data-tooltip="魂から手札にカードを戻すこと">回収</button>
        <button onclick="toggleFilterCard('role', '手札入替')" data-tooltip="手札のカードと他の場所にあるカードを入れ替えること">手札入替</button>
        <button onclick="toggleFilterCard('role', '札ダメ')" data-tooltip="場所札にダメージを与えること">札ダメ</button>
        <button onclick="toggleFilterCard('role', '札除去')" data-tooltip="場にあるカードを魂、除外に送ること">札除去</button>
        <button onclick="toggleFilterCard('role', 'バウンス')" data-tooltip="場のカードを手札などに戻すこと">バウンス</button>
        <button onclick="toggleFilterCard('role', 'ダメ無効')" data-tooltip="相手からのダメージを無効にする効果">ダメ無効</button>
        <button onclick="toggleFilterCard('role', '除去無効')" data-tooltip="場所札を除去する効果を無効にする">除去無効</button>
        <button onclick="toggleFilterCard('role', '効果を失う')" data-tooltip="カードの効果を無効化されること">効果を失う</button>
        <button onclick="toggleFilterCard('role', '直接ダメ')" data-tooltip="相手ライフに直接ダメージを与える効果">直接ダメ</button>
        <button onclick="toggleFilterCard('role', '自傷ダメ')" data-tooltip="自分のライフに直接ダメージを与える効果">自傷ダメ</button>
        <button onclick="toggleFilterCard('role', '魂貫通')" data-tooltip="札のダメージを魂で防御できないこと">魂貫通</button>
        <button onclick="toggleFilterCard('role', 'ハンデス')" data-tooltip="相手の手札を削ること">ハンデス</button>
        <button onclick="toggleFilterCard('role', 'ランデス')" data-tooltip="相手の魂を削ること">ランデス</button>
        <button onclick="toggleFilterCard('role', 'ロック')" data-tooltip="相手の行動を制限すること">ロック</button>
        <button onclick="toggleFilterCard('role', 'バフ')" data-tooltip="力を上げる効果">バフ</button>
        <button onclick="toggleFilterCard('role', '力固定')" data-tooltip="力を一定の数値で固定する効果">力固定</button>
        <button onclick="toggleFilterCard('role', 'バニラ')" data-tooltip="効果がないカードのこと">バニラ</button>
        <button onclick="toggleFilterCard('role', '踏み倒し')" data-tooltip="本来のコストより、少ない魂でカードを使用すること">踏み倒し</button>
        <button onclick="toggleFilterCard('role', '魂加速')" data-tooltip="魂をカードの効果で増やすこと">魂加速</button>
        <button onclick="toggleFilterCard('role', '魂利用')" data-tooltip="魂にあるカードに影響がある効果">魂利用</button>
        <button onclick="toggleFilterCard('role', '底送り')" data-tooltip="デッキの一番下にカードを置くこと">底送り</button>
        <button onclick="toggleFilterCard('role', 'トップ送り')" data-tooltip="デッキの一番上にカードを置くこと">トップ送り</button>
        <button onclick="toggleFilterCard('role', 'トップ確認')" data-tooltip="デッキの一番上を確認すること">トップ確認</button>
        <button onclick="toggleFilterCard('role', 'ヒール')" data-tooltip="ライフを回復すること">ヒール</button>
        <button onclick="toggleFilterCard('role', '追加行動')" data-tooltip="ターン1回の制限なく、追加で行動すること">追加行動</button>
        <button onclick="toggleFilterCard('role', '手札公開')" data-tooltip="手札を公開する効果">手札公開</button>
        <button onclick="toggleFilterCard('role', '手札非公開')" data-tooltip="手札公開場にあるカードを非公開にすること">手札非公開</button>
        <button onclick="toggleFilterCard('role', '2種類札')" data-tooltip="1つのカードが2つの札種類を持つこと">2種類札</button>
        <button onclick="toggleFilterCard('role', '「起き」')" data-tooltip="場にある札を「起き」状態にすること">「起き」</button>
        <button onclick="toggleFilterCard('role', '「花子」')" data-tooltip="名前に「花子」が含まれているカード">「花子」</button>
        <button onclick="toggleFilterCard('role', '回復フェイズ')" data-tooltip="「回復フェイズ」に影響するカード全般">回復フェイズ</button>
        <button onclick="toggleFilterCard('role', 'デッキ破壊')" data-tooltip="LO（ライブラリー アウト）に関する札">デッキ破壊</button>
        <button onclick="toggleFilterCard('role', '神秘付与')" data-tooltip="神秘や秘境などを付与する効果">神秘付与</button>
        <button onclick="toggleFilterCard('role', '上限解放')" data-tooltip="手札の枚数上限などがなくなる効果">上限解放</button>
        <button onclick="toggleFilterCard('role', '裏指定')" data-tooltip="正体不明などで裏向きになっている札を指定する効果">裏指定</button>
        <button onclick="toggleFilterCard('role', '特殊勝利')" data-tooltip="特殊な勝利条件を持つカード">特殊勝利</button>
        <button onclick="toggleFilterCard('role', '憑依加速')" data-tooltip="憑依をカードの効果で増やすこと">憑依加速</button>
        <button onclick="toggleFilterCard('role', '憑依破壊')" data-tooltip="憑依をカードの効果で減らすこと">憑依破壊</button>
        <button onclick="toggleFilterCard('role', 'コスト軽減')" data-tooltip="使用する際に必要なコストを軽減する効果">コスト軽減</button>
        <button onclick="toggleFilterCard('role', '徳除去')" data-tooltip="相手の「徳」を減らすこと">徳除去</button>
        <button onclick="toggleFilterCard('role', '盗品')" data-tooltip="札効果によって「盗品」になったもの">盗品</button>
        <button onclick="toggleFilterCard('role', '果汁')" data-tooltip="札効果によって「果汁」になったもの">果汁</button>        
      </div>

      <div id="image-modal" class="image-modal">
        <div class="modal-content">
          <div class="image-container">
            <img id="modal-image" src="" />
            <!-- card-controls は JavaScript で動的に追加される -->
          </div>
          <button id="prev-image" class="image-nav-button prev" aria-label="Previous image">&#10094;</button>
          <button id="next-image" class="image-nav-button next" aria-label="Next image">&#10095;</button>
        </div>
      </div>

      <!-- デッキ一覧モーダルを追加 -->
      <div id="deck-list-modal" class="deck-list-modal">
        <div class="deck-list-content">
          <div class="deck-list-header">
            <h2>デッキ一覧</h2>
            <button class="deck-list-close">&times;</button>
          </div>
          <div class="deck-list-items">
            <!-- デッキ1から9まで -->
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="1" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="1">デッキ1</button>
                  <button class="deck-edit-button" data-deck-id="1">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="1">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="2" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="2">デッキ2</button>
                  <button class="deck-edit-button" data-deck-id="2">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="2">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="3" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="3">デッキ3</button>
                  <button class="deck-edit-button" data-deck-id="3">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="3">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="4" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="4">デッキ4</button>
                  <button class="deck-edit-button" data-deck-id="4">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="4">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="5" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="5">デッキ5</button>
                  <button class="deck-edit-button" data-deck-id="5">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="5">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="6" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="6">デッキ6</button>
                  <button class="deck-edit-button" data-deck-id="6">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="6">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="7" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="7">デッキ7</button>
                  <button class="deck-edit-button" data-deck-id="7">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="7">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="8" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="8">デッキ8</button>
                  <button class="deck-edit-button" data-deck-id="8">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="8">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="9" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="9">デッキ9</button>
                  <button class="deck-edit-button" data-deck-id="9">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="9">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="10" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="10">デッキ10</button>
                  <button class="deck-edit-button" data-deck-id="10">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="10">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="11" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="11">デッキ11</button>
                  <button class="deck-edit-button" data-deck-id="11">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="11">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="12" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="12">デッキ12</button>
                  <button class="deck-edit-button" data-deck-id="12">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="12">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="13" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="13">デッキ13</button>
                  <button class="deck-edit-button" data-deck-id="13">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="13">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="14" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="14">デッキ14</button>
                  <button class="deck-edit-button" data-deck-id="14">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="14">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="deck-list-item">
              <div class="deck-preview">
                <img class="deck-preview-image" src="" alt="Preview Card" data-deck-id="15" />
                <div class="deck-info">
                  <button class="deck-select-button" data-deck-id="15">デッキ15</button>
                  <button class="deck-edit-button" data-deck-id="15">
                    <i class="fas fa-pencil-alt"></i>
                  </button>
                  <button class="deck-delete-button" data-deck-id="15">
                    <i class="fas fa-trash-alt"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- TOPボタン -->
      <div id="topButton" class="top-button" onclick="window.scrollToTop()">TOP</div>
    </div>

    <!-- デッキボタンを追加 -->
    <div id="deckButton" class="deck-button">DECK</div>

    <div id="deck-modal" class="deck-modal">
      <div class="deck-modal-content">
        <!-- メニューバー -->
        <div class="deck-menu">
          <button class="deck-help-button">切替</button>
          <button id="zero-check" class="deck-menu-button">零探し</button>
          <div class="deck-counter">0枚</div>
          <button id="deck-reset" class="deck-menu-button">消去</button>
          <button id="deck-capture" class="deck-menu-button"><i class="fas fa-camera"></i> 画像</button>
          <button id="back-to-gallery" class="deck-menu-button">×</button>
        </div>

        <!-- ヘルプ用のポップアップとオーバーレイを追加 -->
        <div class="deck-help-overlay"></div>
        <div class="deck-help-popup"></div>

        <!-- デッキ表示エリア -->
        <div id="deck-display" class="deck-display">
          <!-- カードはJSで動的に追加 -->
        </div>
        <!-- デッキからカード一覧に戻るボタン -->
        <div id="deck-back-button" class="deck-back-button">戻る</div>
      </div>

      <!-- リセット確認モーダル -->
      <div id="reset-confirm" class="confirm-modal">
        <div class="confirm-content">
          <p>本当にデッキ内容をリセットしていいですか？</p>
          <div class="confirm-buttons">
            <button id="reset-yes">はい</button>
            <button id="reset-no">いいえ</button>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
